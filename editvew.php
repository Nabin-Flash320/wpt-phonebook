<?php

$server_name = "localhost";
$user_name = "root";
$password = "Nabin&dangi320";
$database = "wpt";

//Creating a connection.
$connect = mysqli_connect($server_name, $user_name, $password, $database);
//Checking the connection.
if($connect->connect_error){
  die("Connection failed => ".$connect->connect_error);
}

$id = $_POST['id'];


?>

<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Edit page</title>
    <link rel="stylesheet" href="editvew.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery.redirect@1.1.4/jquery.redirect.js"></script>
  </head>
  <body>

    <div class="main_edit_container">
      <div class="edit_form_container">
        <div class="edit_title">
          <svg width="251" height="96" viewBox="0 0 251 96" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M2.45602 82.048L6.28483 81.677C8.56015 81.4565 10.9001 81.0883 13.3065 80.5667C14.1025 80.3745 14.7513 80.1938 15.2745 80.0313V18.8222C12.6406 17.9978 9.37447 17.3608 5.39792 16.9712L0.224832 16.4643L2.28542 4.00452H77.0076L78.6302 29.8956L75.1764 31.0112C73.2773 31.6246 71.2827 31.9126 69.2382 31.9126C68.2219 31.9126 67.0796 31.7581 66.0376 31.5831L62.696 31.0218L62.0374 28.2138C61.109 24.2553 59.7872 21.2725 58.2245 19.0952H38.3797V41.1542L49.6246 40.7364C49.6273 40.7362 49.63 40.7361 49.6327 40.736C50.0359 40.7192 50.3059 40.6519 50.7257 40.1637C51.5587 39.1951 52.4257 37.7039 53.2045 35.5238L54.2939 32.4741H67.8767V65.4353H54.2169L53.1771 62.3062C52.0027 58.7721 51.0742 57.0827 50.6032 56.5412C50.6001 56.5394 50.5953 56.5368 50.5886 56.5334C50.5747 56.5264 50.5503 56.515 50.5124 56.5009C50.3562 56.4426 49.969 56.3368 49.2231 56.3117L49.1862 56.3105L38.3797 55.8154V79.0607H61.7408C63.48 76.4409 64.8878 73.0111 65.8402 68.6426L66.4848 65.6863L70.0147 65.1922C71.2954 65.013 72.5437 64.8875 73.6407 64.8875C74.5055 64.8875 75.8591 65.0101 77.3545 65.167L79.1849 65.3592C79.1509 64.5455 79.1342 63.7195 79.1342 62.8814C79.1342 52.1674 82.1376 43.296 88.9527 36.9728C95.8357 30.5028 105.598 27.5443 117.396 27.5443C119.88 27.5443 122.341 27.7543 124.774 28.169V20.6084C124.774 19.346 124.617 18.5176 124.438 18.0174C124.358 17.7933 124.289 17.6742 124.255 17.6244L124.192 17.5752C124.191 17.5746 123.939 17.3926 123.139 17.1934C122.32 16.9898 121.131 16.8189 119.483 16.7479L114.303 16.5249L115.228 5.25883L119.164 4.68403C123.364 4.07057 128.66 2.93676 135.096 1.24253L135.126 1.23467L140.026 0L147.585 3.17419V80.5748C149.01 81.1333 150.968 81.6667 153.594 82.0982L156.681 82.6054L156.71 82.3858L160.479 81.8353C162.585 81.5278 164.08 81.2084 165.068 80.9122C165.339 80.8308 165.631 80.7279 165.942 80.5997V47.4757C165.942 46.2322 165.777 45.4313 165.598 44.9594C165.517 44.748 165.448 44.6379 165.415 44.5926L165.341 44.5421L165.213 44.4421C165.228 44.4535 164.986 44.2663 164.16 44.0608C163.342 43.8572 162.152 43.6863 160.504 43.6153L155.144 43.3845L156.533 32.1098L160.327 31.5522C164.011 31.0107 167.813 30.2335 171.732 29.2146L171.748 29.2104L171.764 29.2063C175.947 28.1443 178.444 27.5151 179.177 27.3392L181.194 26.8552L188.607 30.2793V80.5145C190.158 81.1165 192.185 81.6652 194.783 82.1016L199.394 82.8761L197.728 94.7675H126.592L126.19 92.2779C121.923 94.5229 116.832 95.6303 111.085 95.6303C101.021 95.6303 92.6757 92.8846 86.9879 86.8619C84.4597 84.1847 82.599 81.0051 81.3251 77.3916L80.2361 94.7675H0L2.45602 82.048ZM125.416 87.4858C127.108 86.3245 128.593 84.9015 129.869 83.2168L131.043 90.4882H152.176L152.616 86.2979C152.468 86.2736 152.321 86.2489 152.176 86.2237C152.147 86.2188 152.118 86.2138 152.09 86.2089C147.852 85.4705 144.652 84.391 142.49 82.9703V5.81896L139.555 4.58651L136.62 5.32598C131.404 6.69897 126.838 7.73378 122.923 8.43044C121.918 8.60927 120.956 8.76581 120.037 8.90008L119.744 12.4742C120.103 12.4897 120.451 12.5095 120.789 12.5337C120.814 12.5355 120.839 12.5372 120.864 12.5391C121.642 12.5965 122.365 12.6772 123.032 12.7812C125.123 13.1072 126.668 13.6622 127.668 14.4461C129.136 15.5142 129.869 17.5683 129.869 20.6084V33.9188C128.179 33.3442 126.481 32.8879 124.774 32.5496C122.331 32.0656 119.872 31.8236 117.396 31.8236C106.634 31.8236 98.4157 34.4939 92.7413 39.8346C87.0669 45.093 84.2297 52.7753 84.2297 62.8814C84.2297 72.3301 86.4799 79.4372 90.9803 84.2027C95.4807 88.9682 102.182 91.3509 111.085 91.3509C116.885 91.3509 121.662 90.0625 125.416 87.4858ZM125.32 80.2589C128.353 76.3972 129.869 70.6047 129.869 62.8814V39.4648C128.108 38.7254 126.25 38.1502 124.293 37.7394C122.336 37.2464 119.89 36.9999 116.955 36.9999C110.694 36.9999 105.802 39.2594 102.28 43.7784C98.8559 48.2974 97.1438 54.665 97.1438 62.8814C97.1438 70.8512 98.3668 76.7259 100.813 80.5054C103.356 84.2027 107.221 86.0514 112.406 86.0514C118.08 86.0514 122.385 84.1206 125.32 80.2589ZM105.258 78.4128C106.866 80.721 109.02 81.7721 112.406 81.7721C116.425 81.7721 119.07 80.528 121.025 77.9564L121.045 77.9294L121.066 77.9027C123.294 75.0668 124.774 70.2701 124.774 62.8814V42.3115C124.214 42.154 123.642 42.0138 123.057 41.891L122.942 41.8668L122.829 41.8383C121.504 41.5046 119.591 41.2793 116.955 41.2793C112.479 41.2793 109.17 42.7645 106.562 46.0988C103.876 49.6568 102.239 55.0933 102.239 62.8814C102.239 70.605 103.451 75.5851 105.258 78.4128ZM183.512 82.9703V32.8096L180.576 31.4539C179.892 31.6182 177.446 32.2345 173.239 33.3026C170.118 34.1139 167.053 34.783 164.045 35.3099C163.093 35.4767 162.146 35.6292 161.205 35.7675L160.765 39.3416C161.179 39.3594 161.579 39.383 161.965 39.4124C162.579 39.4592 163.159 39.5207 163.703 39.5968C163.849 39.6173 163.993 39.6388 164.135 39.6614C166.184 39.989 167.703 40.5397 168.69 41.3135C170.255 42.3816 171.038 44.4357 171.038 47.4757V82.9703C169.57 83.8741 168.152 84.5314 166.782 84.9422C165.412 85.353 163.602 85.7227 161.352 86.0514L160.765 90.4882H193.197L193.784 86.2979C189.382 85.5584 185.957 84.4492 183.512 82.9703ZM64.5421 83.34H33.2841V51.2963L49.4268 52.0358C51.8726 52.118 53.6336 52.7753 54.7098 54.0077C55.6633 55.0997 56.6553 57.0947 57.6856 59.9928C57.8181 60.3656 57.9513 60.7533 58.0851 61.1559H62.7811V36.7534H58.0851C57.9561 37.1145 57.823 37.4649 57.6856 37.8048C56.8851 39.7854 55.9421 41.4069 54.8566 42.6692C53.5847 44.1481 51.9215 44.9287 49.867 45.0108L33.2841 45.6271V14.8158H60.8734C63.7105 17.7737 65.7651 21.964 67.0369 27.3868C68.0153 27.5511 68.749 27.6333 69.2382 27.6333C70.7057 27.6333 72.0754 27.4279 73.3472 27.0171L72.1732 8.28386H6.72215L5.98839 12.7207C6.96333 12.8162 7.90859 12.9265 8.82416 13.0514C13.4212 13.679 17.2698 14.6779 20.37 16.0483V82.6005C19.2938 83.34 17.3861 84.0384 14.6467 84.6957C12.0052 85.2708 9.41259 85.6817 6.8689 85.9281L5.98839 90.4882H75.4017L76.7225 69.4133C75.1571 69.249 74.1299 69.1668 73.6407 69.1668C73.3074 69.1668 72.9161 69.1863 72.4669 69.2252C72.2062 69.2478 71.926 69.277 71.6262 69.3127C71.3813 69.3419 71.1234 69.3754 70.8524 69.4133C69.5806 75.2469 67.4772 79.8891 64.5421 83.34ZM166.07 23.4034C163.631 21.1194 162.86 18.1197 162.86 15.1856C162.86 12.2515 163.631 9.25179 166.07 6.96777C168.603 4.59484 172.105 3.75803 175.587 3.75803C179.092 3.75803 182.584 4.62817 185.099 7.02344C187.58 9.29162 188.46 12.2268 188.46 15.1856C188.46 18.1444 187.58 21.0795 185.099 23.3477C182.584 25.743 179.092 26.6131 175.587 26.6131C172.105 26.6131 168.603 25.7763 166.07 23.4034ZM181.31 20.4851C182.68 19.2527 183.365 17.4861 183.365 15.1856C183.365 12.885 182.68 11.1185 181.31 9.88604C180.038 8.65359 178.131 8.03737 175.587 8.03737C170.5 8.03737 167.956 10.4201 167.956 15.1856C167.956 19.951 170.5 22.3338 175.587 22.3338C178.131 22.3338 180.038 21.7176 181.31 20.4851ZM239.658 89.3765C238.843 89.7253 237.999 90.0548 237.126 90.365C234.68 91.2688 231.403 91.7207 227.294 91.7207C220.739 91.7207 216.287 90.5704 213.939 88.2698C211.591 85.9692 210.417 82.0665 210.417 76.5615V39.5881H198.531V35.8907C199.173 35.7071 199.801 35.5131 200.414 35.3087C208.854 32.4956 214.487 27.7188 217.315 20.9781H223.185V32.9328H241.969V39.5881H223.038V77.4243C223.038 80.4643 223.478 82.6416 224.359 83.9562C225.337 85.2708 227.49 85.9281 230.816 85.9281C232.968 85.9281 234.827 85.7227 236.392 85.3119C237.958 84.8189 239.523 84.2027 241.088 83.4633L244.023 87.1606C243.463 87.4967 242.885 87.8207 242.288 88.1323C241.447 88.5713 240.571 88.986 239.658 89.3765ZM234.747 81.2593C236.005 80.856 237.286 80.3498 238.59 79.7335L242.708 77.7884L251 88.2345L246.985 90.6428C244.608 92.0687 241.988 93.2821 239.144 94.2946C235.805 95.5214 231.752 96 227.294 96C220.383 96 213.937 94.8432 210.071 91.0548C206.501 87.5572 205.322 82.3453 205.322 76.5615V43.8674H193.435V32.8264L196.889 31.8394C205.066 29.5032 210.051 25.4162 212.509 19.5562L213.707 16.6987H228.28V28.6535H247.064V43.8674H228.134V77.4243C228.134 79.6185 228.399 80.8549 228.615 81.4583C228.997 81.5495 229.691 81.6488 230.816 81.6488C232.527 81.6488 233.81 81.4906 234.747 81.2593Z" fill="#3C4AC4"/>
          </svg>


        </div>
        <form class="edit_form">
          <div class="edit_name_container edit_containers">
            <label class="edit_container_labels" for="name">Name</label>
            <input id="edit_name" class="edit_container_input" type="text" name="name">
          </div>
          <div class="edit_phone_number_container edit_containers">
            <label class="edit_container_labels" for="phone_number">Phone number</label>
            <input id="edit_phone_number" class="edit_container_input" type="text" name="phone_number">
          </div>
          <div class="edit_address_container edit_containers">
            <label class="edit_container_labels" for="address">Address</label>
            <input id="edit_address" class="edit_container_input" type="text" name="address">
          </div>
          <div class="edit_message_container">
            <label class="edit_message_labels">Fill only those requiring edit.</label>
          </div>
          <div class="edit_button_container">
            <button class="edit_button" type="button" name="button">Conform edit</button>
            <button class="go_to_button" type="button" name="button">Go to vew</button>
          </div>
        </form>
      </div>

    </div>


    <script type="text/javascript">

    $(document).ready(function(){

      $(".edit_button").click(function(){
        var id = <?php echo $id; ?>;
        var name = $('#edit_name').val();
        var phone_number = $('#edit_phone_number').val();
        var address = $('#edit_address').val();
        $.ajax({
          url: "edit.php",
          data:{
            id: id,
            name: name,
            phone_number: phone_number,
            address: address
          },
          type: "POST",
          success: function(){
            console.log("Edit successful!!");
          },
          error: function(){
            console.log("Editing error!!");
          }
        });
      });
      $(".go_to_button").click(function(){
        $.redirect('vew.php');
      });
    });

    </script>

  </body>
</html>
